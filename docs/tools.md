# MaKeTECH Tools ドキュメント

## 概要

MaKeTECH Tools は、開発作業や文書作成を効率化するための各種ユーティリティツールを提供します。すべてのツールはクライアントサイドで動作し、データがサーバーに送信されることはありません。

## ツール一覧

### 1. 文字数カウンター

**パス:** `/tools/char-counter`

**機能:**

- テキストの文字数をリアルタイムでカウント
- 以下の情報を表示:
  - 総文字数
  - 空白を除いた文字数
  - 全角文字数
  - 半角文字数
  - 全角を 2 文字としてカウントした文字数
  - 単語数
  - 行数
  - 段落数

**使用シーン:**

- 文書作成時の文字数制限の確認
- 原稿用紙換算（全角を 2 文字としてカウント）
- ブログ記事や SNS 投稿の文字数確認

**実装詳細:**

- `CharCounterClient.tsx`: メインのクライアントコンポーネント
- TextArea の内容変更時にカウント処理を実行
- 正規表現`/[^\x01-\x7E\xA1-\xDF]/`を使用して全角/半角文字を区別

### 2. カラーピッカー

**パス:** `/tools/color-picker`

**機能:**

- 視覚的な色選択
- 基本カラーパレット（黒、白、赤、青、緑など）からの選択
- HEX, RGB, HSL 形式の相互変換
- 彩度・明度の調整
- 補色と類似色の表示
- カラー履歴の保存

**使用シーン:**

- Web デザイン時のカラーコード取得
- CSS コードでの色指定
- カラースキームの作成と探索
- デザイン作業時の色の調整

**実装詳細:**

- `ColorPickerClient.tsx`: メインのクライアントコンポーネント
- カラー変換関数（hexToRgb, rgbToHex, rgbToHsl, hslToRgb）
- クリップボード API を使用したコピー機能

### 3. JSON フォーマッター

**パス:** `/tools/json-formatter`

**機能:**

- JSON データの整形と検証
- カスタムインデントサイズの選択
- 整形/圧縮表示の切り替え
- ツリービューでの表示
- JSON パスを使った要素の抽出
- JSON 統計情報の表示（サイズ、ノード数、深さ、キー数）

**使用シーン:**

- API レスポンスのデバッグ
- JSON ファイルの編集と検証
- 設定ファイルの作成
- JSON データ構造の把握

**実装詳細:**

- `JsonFormatterClient.tsx`: メインのクライアントコンポーネント
- `JSON.parse`と`JSON.stringify`を利用した検証と整形
- 再帰的なツリービュー表示
- JSON パスの簡易評価機能

### 4. 正規表現テスター

**パス:** `/tools/regex-tester`

**機能:**

- 正規表現パターンのリアルタイムテスト
- フラグの設定（g, i, m, s, u, y）
- マッチングのハイライト表示
- マッチした文字列と位置の一覧表示
- 置換機能
- チートシート機能

**使用シーン:**

- 正規表現パターンの作成とテスト
- テキスト処理スクリプトの開発
- 検索・置換操作のプレビュー
- 正規表現の学習

**実装詳細:**

- `RegexTesterClient.tsx`: メインのクライアントコンポーネント
- JavaScript の`RegExp`オブジェクトを使用
- マッチ結果のハイライト表示のための React ノード生成
- React Hooks を利用した状態管理

### 5. テキスト差分比較（Diff）

**パス:** `/tools/text-diff`

**機能:**

- 2 つのテキストの差分をリアルタイムで視覚的に表示
- 追加/削除/変更の色分け表示
- 統合表示と分割表示の切り替え
- 大文字/小文字を無視するオプション
- 空白を無視するオプション
- 行番号表示

**使用シーン:**

- コードレビュー
- 文書のバージョン比較
- 変更履歴の確認
- バグ修正の前後比較

**実装詳細:**

- `TextDiffClient.tsx`: メインのクライアントコンポーネント
- `diff`ライブラリを使用した差分計算
- 追加（緑）、削除（赤）、変更なし（通常）の色分け表示
- 差分統計情報の表示

### 6. オブジェクト文字列フォーマッター

**パス:** `/tools/object-formatter`

**機能:**

- Dart/Java/Kotlin などのオブジェクト文字列の整形
- 整形/圧縮表示の切り替え
- JSON 形式とツリービュー表示の切り替え
- クラス構造の視覚化
- クリップボードへのコピー機能

**使用シーン:**

- デバッグログの解析
- オブジェクトダンプの可読性向上
- クラス構造の把握
- データ形式の変換

**実装詳細:**

- `ObjectFormatterClient.tsx`: メインのクライアントコンポーネント
- カスタムパーサーによるオブジェクト文字列の解析
- 再帰的なプロパティ処理
- クラス情報、列挙型、配列などの特殊構造に対応

## アーキテクチャと実装パターン

### 基本構造

各ツールは以下の 2 つのファイルで構成されています：

1. **ページコンポーネント** (`app/tools/[tool-name]/page.tsx`)

   - Next.js のサーバーコンポーネント
   - メタデータ（タイトル、説明、キーワードなど）を定義
   - クライアントコンポーネントをレンダリング

2. **クライアントコンポーネント** (`app/tools/[tool-name]/[Tool]Client.tsx`)
   - `"use client"` ディレクティブを持つ React コンポーネント
   - ツールのロジックと UI を実装
   - ユーザー入力の処理とリアルタイム更新を担当

### 共通パターン

すべてのツールに共通する実装パターン：

1. **入力と出力の分離**

   - 入力エリア（テキストエリア、フォーム要素など）
   - 出力エリア（結果表示、視覚化など）

2. **オプションと設定**

   - ユーザーがツールの動作をカスタマイズするためのコントロール
   - 選択肢はドロップダウンやトグルボタンとして実装

3. **サンプルデータ提供**

   - 「サンプルをセット」ボタンで機能紹介用のデータを設定
   - ユーザーが即座に機能を試せるようにする

4. **使い方セクション**

   - 各ツールに詳細な使用方法の説明を提供
   - 具体的な例やユースケースを含む

5. **エラー処理**

   - 適切なエラーメッセージの表示
   - ユーザーにフィードバックを提供

6. **レスポンシブデザイン**
   - モバイルからデスクトップまで対応する UI レイアウト
   - Tailwind CSS による柔軟なグリッドとフレックスボックスの活用

## スタイリングと UI

### デザイン原則

1. **一貫性**

   - すべてのツールで統一されたデザイン言語
   - 共通のカラーパレット、フォント、間隔の使用

2. **アクセシビリティ**

   - コントラスト比の適切な設定
   - キーボードナビゲーションのサポート
   - 適切なラベルと ARIA 属性

3. **ダークモード対応**
   - すべてのツールがライト/ダークモードの両方に対応
   - コンテンツの可読性を維持

### コンポーネント構成

- **カード** - 各セクションを視覚的に分離
- **フォーム要素** - 入力コントロール、ボタン、選択肢
- **視覚化コンポーネント** - 結果表示のための特殊なレイアウトやスタイル
- **アニメーション** - 状態変化の視覚的フィードバック

## 保守とメンテナンス

### 新しいツールの追加手順

1. `app/tools/[tool-name]/page.tsx`にページコンポーネントを作成
2. `app/tools/[tool-name]/[Tool]Client.tsx`にクライアントコンポーネントを実装
3. `app/tools/page.tsx`のツール一覧にカードを追加
4. 必要に応じてテストを作成
5. このドキュメントを更新

### リファクタリングのための注意点

- 各ツールは独立したモジュールとして実装し、密結合を避ける
- 共通のユーティリティ関数は抽出して再利用する
- タイプ安全性のために TypeScript の型定義を活用する
- 大きなコンポーネントは小さな関数コンポーネントに分割する

### パフォーマンス考慮事項

- 大きなデータセットの処理は Web Workers の使用を検討
- メモ化（useMemo, useCallback）を適切に活用
- レンダリングの最適化（不要な再レンダリングの回避）
- リソース（メモリ、CPU）の使用を監視

## 今後の拡張計画

### 予定されている機能強化

- 全ツールでの設定保存機能（localStorage）
- ファイルのインポート/エクスポート機能
- ダークモード切り替えの個別保存
- キーボードショートカットの追加

### 検討中の新規ツール

- マークダウンエディター/プレビュー
- CSV ビューアー/エディター
  - CSV データを表形式で表示
  - 簡単な並べ替えやフィルタリング機能
- URL エンコーダー/デコーダー
  - URL 用のエンコード/デコード
  - 特殊文字の処理が簡単に
- パスワードジェネレーター
  - 強度の高いランダムパスワードを生成
  - 長さ、文字種の設定
- 単位変換ツール
  - 長さ、重さ、温度、データサイズなどの変換
  - プログラミングでよく使う単位（px, rem, em）の変換
- 日付・時間計算機
  - 日数や時間の加算・減算
  - UNIX 時間スタンプの変換
  - 日付フォーマット変換
- SVG 最適化ツール
  - SVG ファイルの余分なデータを削除
  - コードの整形
- メタタグジェネレーター
  - SEO 用のメタタグを簡単に生成
  - OGP（Open Graph Protocol）タグの作成補助

## まとめ

MaKeTECH Tools は、開発者や一般ユーザーの日常的なタスクを効率化するためのユーティリティ集です。クライアントサイドで動作するため、データプライバシーを維持しながら高速に処理を行うことができます。シンプルで使いやすいインターフェースと、実用的な機能セットにより、作業フローを改善します。

新しいツールやニーズに応じた拡張が容易な設計となっており、今後も機能追加を継続していく予定です。
